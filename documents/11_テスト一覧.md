# APIテスト一覧

**注意**: このドキュメントは自動テストの一覧をまとめたものです。テストの追加・変更があった場合は更新してください。

**最終更新日**: 2025年3月21日（コメントテスト対応完了）

**テスト状態の凡例**:
- ✅ SUCCESS: テストが成功
- ❌ FAILED: テストが失敗
- ⚠️ ERROR: テスト実行中にエラーが発生
- 🔄 SKIPPED: テストがスキップされた
- ⏳ PENDING: テストが未実行

## 1. 認証・ユーザー関連テスト

| テストID | テストパス | テスト内容 | 状態 | 備考 |
|---------|-----------|----------|------|------|
| AUTH-001 | tests/test_api/test_auth.py::test_login_success | ログイン成功 | ✅ SUCCESS | 正常系テスト |
| AUTH-002 | tests/test_api/test_auth.py::test_login_invalid_credentials | 無効な認証情報でのログイン | ✅ SUCCESS | 異常系テスト |
| AUTH-003 | tests/test_api/test_auth.py::test_login_inactive_user | 非アクティブユーザーのログイン | ✅ SUCCESS | 異常系テスト |
| AUTH-004 | tests/test_api/test_auth.py::test_get_current_user | 現在のユーザー情報取得 | ✅ SUCCESS | 正常系テスト |
| USR-001 | tests/test_api/test_users.py::test_update_user_me | ユーザープロフィール更新 | ⚠️ ERROR | 正常系テスト |
| USR-002 | tests/test_api/test_users.py::test_update_user_password | ユーザーパスワード変更 | ⚠️ ERROR | 正常系テスト |
| USR-003 | tests/test_api/test_users.py::test_update_user_password_wrong_current | 間違ったパスワードでの変更 | ⚠️ ERROR | 異常系テスト |
| USR-004 | tests/test_api/test_users.py::test_delete_user_me | ユーザーアカウント削除 | ❌ FAILED | 正常系テスト |
| USR-005 | tests/test_api/test_users.py::test_delete_user_me_wrong_password | 間違ったパスワードでのアカウント削除 | ⚠️ ERROR | 異常系テスト |

## 2. 発言関連テスト

| テストID | テストパス | テスト内容 | 状態 | 備考 |
|---------|-----------|----------|------|------|
| STMT-001 | tests/test_api/test_statements.py::test_get_statements | 発言一覧取得 | ✅ SUCCESS | 正常系テスト |
| STMT-002 | tests/test_api/test_statements.py::test_get_statement_by_id | 発言詳細取得 | ✅ SUCCESS | 正常系テスト |
| STMT-003 | tests/test_api/test_statements.py::test_get_statement_not_found | 存在しない発言ID | ✅ SUCCESS | 異常系テスト |
| STMT-004 | tests/test_api/test_statements.py::test_filter_statements_by_politician | 政治家IDによるフィルタリング | ✅ SUCCESS | 正常系テスト |
| STMT-005 | tests/test_api/test_statements.py::test_filter_statements_by_topic | トピックIDによるフィルタリング | ✅ SUCCESS | 正常系テスト |
| STMT-006 | tests/test_api/test_statements.py::test_search_statements | 発言検索 | ✅ SUCCESS | 正常系テスト |
| STMT-007 | tests/test_api/test_statements.py::test_like_statement | 発言へのいいね追加 | ✅ SUCCESS | 正常系テスト |
| STMT-008 | tests/test_api/test_statements.py::test_unlike_statement | 発言へのいいね解除 | ✅ SUCCESS | 正常系テスト |

## 3. コメント関連テスト

| テストID | テストパス | テスト内容 | 状態 | 備考 |
|---------|-----------|----------|------|------|
| CMT-001 | tests/test_api/test_comments.py::test_get_statement_comments | 発言に対するコメント一覧取得 | ✅ SUCCESS | 正常系テスト |
| CMT-002 | tests/test_api/test_comments.py::test_create_comment | コメント作成 | ✅ SUCCESS | 正常系テスト |
| CMT-003 | tests/test_api/test_comments.py::test_create_comment_unauthorized | 未認証ユーザーによるコメント作成 | ✅ SUCCESS | 異常系テスト |
| CMT-004 | tests/test_api/test_comments.py::test_update_comment | コメント更新 | ✅ SUCCESS | 正常系テスト |
| CMT-005 | tests/test_api/test_comments.py::test_update_comment_unauthorized | 未認証ユーザーによるコメント更新 | ✅ SUCCESS | 異常系テスト |
| CMT-006 | tests/test_api/test_comments.py::test_update_comment_wrong_user | 他ユーザーのコメント更新 | ✅ SUCCESS | 異常系テスト |
| CMT-007 | tests/test_api/test_comments.py::test_delete_comment | コメント削除 | ✅ SUCCESS | 正常系テスト |
| CMT-008 | tests/test_api/test_comments.py::test_delete_comment_unauthorized | 未認証ユーザーによるコメント削除 | ✅ SUCCESS | 異常系テスト |
| CMT-009 | tests/test_api/test_comments.py::test_delete_comment_wrong_user | 他ユーザーのコメント削除 | ✅ SUCCESS | 異常系テスト |
| CMT-010 | tests/test_api/test_comments.py::test_create_reply_comment | 返信コメント作成 | ✅ SUCCESS | 正常系テスト |
| CMT-011 | tests/test_api/test_comments.py::test_get_comment_replies | コメント返信一覧取得 | ✅ SUCCESS | 正常系テスト |

## 4. 政治家関連テスト

| テストID | テストパス | テスト内容 | 状態 | 備考 |
|---------|-----------|----------|------|------|
| POL-001 | tests/test_api/test_politicians.py::test_get_politicians | 政治家一覧取得 | ⚠️ ERROR | 正常系テスト |
| POL-002 | tests/test_api/test_politicians.py::test_get_politician_by_id | 政治家詳細取得 | ⚠️ ERROR | 正常系テスト |
| POL-003 | tests/test_api/test_politicians.py::test_get_politician_not_found | 存在しない政治家ID | ⚠️ ERROR | 異常系テスト |
| POL-004 | tests/test_api/test_politicians.py::test_filter_politicians_by_party | 政党IDによるフィルタリング | ⚠️ ERROR | 正常系テスト |
| POL-005 | tests/test_api/test_politicians.py::test_filter_politicians_by_status | ステータスによるフィルタリング | ⚠️ ERROR | 正常系テスト |
| POL-006 | tests/test_api/test_politicians.py::test_search_politicians | 政治家検索 | ⚠️ ERROR | 正常系テスト |

## 5. トピック関連テスト

| テストID | テストパス | テスト内容 | 状態 | 備考 |
|---------|-----------|----------|------|------|
| TOP-001 | tests/test_api/test_topics.py::test_get_topics | トピック一覧取得 | ❌ FAILED | 正常系テスト |
| TOP-002 | tests/test_api/test_topics.py::test_get_topic_by_id | トピック詳細取得 | ❌ FAILED | 正常系テスト |
| TOP-003 | tests/test_api/test_topics.py::test_get_topic_not_found | 存在しないトピックID | ❌ FAILED | 異常系テスト |
| TOP-004 | tests/test_api/test_topics.py::test_filter_topics_by_category | カテゴリによるフィルタリング | ❌ FAILED | 正常系テスト |
| TOP-005 | tests/test_api/test_topics.py::test_filter_topics_by_status | ステータスによるフィルタリング | ❌ FAILED | 正常系テスト |
| TOP-006 | tests/test_api/test_topics.py::test_search_topics | トピック検索 | ❌ FAILED | 正常系テスト |
| TOP-007 | tests/test_api/test_topics.py::test_get_topic_relations | トピック関連の取得 | ❌ FAILED | 正常系テスト |
| TOP-008 | tests/test_api/test_topics.py::test_follow_topic | トピックフォロー | ❌ FAILED | 正常系テスト |
| TOP-009 | tests/test_api/test_topics.py::test_unfollow_topic | トピックフォロー解除 | ❌ FAILED | 正常系テスト |

## 6. ヘルスチェック関連テスト

| テストID | テストパス | テスト内容 | 状態 | 備考 |
|---------|-----------|----------|------|------|
| HEALTH-001 | tests/test_api_health.py::test_api_health | APIのヘルスチェック | ✅ SUCCESS | 正常系テスト |
| HEALTH-002 | tests/test_api_health.py::test_api_version | APIのバージョン取得 | ✅ SUCCESS | 正常系テスト |

## テスト進行状況の概要

- **SUCCESS**: 27 テスト
- **FAILED**: 10 テスト
- **ERROR**: 7 テスト
- **SKIPPED**: 0 テスト
- **合計**: 44 テスト
- **成功率**: 61.4%

## 次のステップ

1. 残りのテストファイルの修正
   - `test_politicians.py`
   - `test_topics.py`
   - `test_users.py`
2. 全テストの実行結果の確認
3. カバレッジレポートの作成
4. 必要に応じてテストケースの追加